(function(t){function e(e){for(var a,r,i=e[0],c=e[1],u=e[2],m=0,p=[];m<i.length;m++)r=i[m],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&p.push(o[r][0]),o[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,i=1;i<n.length;i++){var c=n[i];0!==o[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),o=n.n(a);o.a},"039a":function(t,e,n){"use strict";var a=n("7174"),o=n.n(a);o.a},"110f":function(t,e,n){},"1a12":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("router-view")],1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("nav",{staticClass:"nav-extended teal darken-2"},[t.main?n("div",{staticClass:"nav-content"},[n("a",{staticClass:"add-comment",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.addComment(e)}}},[t._v("add comment")]),n("a",{staticClass:"sign-out",attrs:{href:""},on:{click:t.signOut}},[n("router-link",{attrs:{to:{name:"Login"}}},[t._v("sign out")])],1)]):t._e()]),n("div",{ref:"commentPanel",staticClass:"new-comment",on:{click:t.closePanel}},[n("div",{staticClass:"modal"},[n("h2",[t._v("Comment something...")]),n("form",{ref:"commentBox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.comment,expression:"comment"}],attrs:{type:"text",name:"comment",placeholder:"Comment..."},domProps:{value:t.comment},on:{input:function(e){e.target.composing||(t.comment=e.target.value)}}}),n("button",{on:{click:function(e){return e.preventDefault(),t.submitComment(e)}}},[t._v("Submit Comment")]),n("p",{staticClass:"error"})])])])])},i=[],c=n("59ca"),u=n.n(c),l=(n("e71f"),n("8934"),{apiKey:"AIzaSyAi8on9N2YTH132xkSe7YO-9GvWbyXAPjM",authDomain:"fr-function-prototype.firebaseapp.com",databaseURL:"https://fr-function-prototype.firebaseio.com",projectId:"fr-function-prototype",storageBucket:"fr-function-prototype.appspot.com",messagingSenderId:"552615027293",appId:"1:552615027293:web:048a96ba1406c53ee1a3b4"}),m=u.a.initializeApp(l),p=m.functions(),f=m.firestore(),d=n("8aa5"),v=n.n(d);n("ea7b");var h={name:"Navbar",data:function(){return{comment:""}},methods:{closePanel:function(t){var e=this.$refs.commentPanel;t.target.classList.contains("new-comment")&&e.classList.remove("open")},addComment:function(){var t=this.$refs.commentPanel;t.classList.add("open")},submitComment:function(){var t=this.$refs.commentBox,e=this.$refs.commentPanel;console.log(this.comment);var n=p.httpsCallable("addRequest");n({text:this.comment}).then((function(){t.reset(),t.querySelector(".error").textContent="",e.classList.remove("open")})).catch((function(e){t.querySelector(".error").textContent=e.message}))},signOut:function(){v.a.auth().signOut().then((function(){return console.log("signed out")}))}},computed:{main:function(){return"/"===this.$route.path}}},g=h,b=(n("5dfc"),n("2877")),w=Object(b["a"])(g,r,i,!1,null,null,null),_=w.exports,C={name:"App",components:{Navbar:_}},y=C,x=(n("034f"),Object(b["a"])(y,o,s,!1,null,null,null)),P=x.exports,O=(n("45fc"),n("ac1f"),n("5319"),n("8c4f")),k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{staticClass:"content",attrs:{id:"app"}},[n("h1",[t._v("The Comment Section Website")]),n("ul",{staticClass:"request-list"},t._l(t.requests,(function(e,a){return n("li",{key:a},[n("span",{staticClass:"text"},[t._v(t._s(e.text))]),n("div",[n("span",{staticClass:"votes"},[t._v(t._s(e.upvotes))]),n("i",{staticClass:"material-icons upvote",on:{click:function(n){return t.upvoteRequest(e.id)}}},[t._v("arrow_upward")])])])})),0)]),n("div",{ref:"notification",staticClass:"notification"},[t._v(t._s(t.notificationMessage))])])},j=[],L=(n("4160"),n("159b"),n("5530")),$={name:"Navbar",data:function(){return{requests:[{text:"Actually this movie kinda sucks.",upvotes:5}],notificationMessage:""}},methods:{upvoteRequest:function(t){var e=this,n=p.httpsCallable("upvote");n({id:t}).catch((function(t){e.showNotification(t.message)}))},showNotification:function(t){var e=this,n=this.$refs.notification;this.notificationMessage=t,n.classList.add("active"),setTimeout((function(){n.classList.remove("active"),e.notificationMessage=""}),4e3)}},mounted:function(){var t=this,e=f.collection("requests").orderBy("upvotes","desc");e.onSnapshot((function(e){var n=[];e.forEach((function(t){n.push(Object(L["a"])(Object(L["a"])({},t.data()),{},{id:t.id}))})),t.requests=n}))}},N=$,S=(n("59b2"),Object(b["a"])(N,k,j,!1,null,null,null)),q=S.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth open"},[n("div",{ref:"login",staticClass:"modal active"},[n("h2",[t._v("Login")]),n("form",{ref:"loginForm",staticClass:"login"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{on:{click:function(e){return e.preventDefault(),t.loginUser(e)}}},[t._v("Login")]),n("p",{staticClass:"error"},[t._v(t._s(t.error))])]),n("div",[t._v(" No account? "),n("a",{staticClass:"switch",on:{click:t.switchBox}},[t._v("Register instead")])])]),n("div",{ref:"register",staticClass:"modal"},[n("h2",[t._v("Register")]),n("form",{ref:"regForm",staticClass:"register"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("button",{on:{click:function(e){return e.preventDefault(),t.registerUser(e)}}},[t._v("Register")]),n("p",{staticClass:"error"})]),n("div",[t._v(" Got an account? "),n("a",{staticClass:"switch",on:{click:t.switchBox}},[t._v("Login instead")])])])])},E=[];n("ea7b");var M={name:"Login",data:function(){return{email:null,password:null,error:null}},methods:{switchBox:function(){var t=this.$refs.login,e=this.$refs.register;t.classList.toggle("active"),e.classList.toggle("active")},loginUser:function(){var t=this,e=this.$refs.loginForm;v.a.auth().signInWithEmailAndPassword(this.email,this.password).then((function(n){console.log("logged in",n),e.reset(),t.$router.push({name:"Threads"})})).catch((function(n){e.reset(),t.error=n.message}))},registerUser:function(){var t=this,e=this.$refs.loginForm;v.a.auth().createUserWithEmailAndPassword(this.email,this.password).then((function(n){console.log("user registered",n),e.reset(),t.switchBox()})).catch((function(n){e.reset(),t.error=n.message}))}}},B=M,T=(n("039a"),Object(b["a"])(B,A,E,!1,null,null,null)),R=T.exports;n("ea7b"),a["a"].use(O["a"]);var U=new O["a"]({routes:[{path:"/",name:"Threads",component:q,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:R}]});U.beforeEach((function(t,e,n){var a=v.a.auth().currentUser,o=t.matched.some((function(t){return t.meta.requiresAuth}));o?a?n():U.replace("/login"):n()}));var D=U;a["a"].config.productionTip=!1,new a["a"]({el:"#app",router:D,render:function(t){return t(P)}})},"59b2":function(t,e,n){"use strict";var a=n("110f"),o=n.n(a);o.a},"5dfc":function(t,e,n){"use strict";var a=n("1a12"),o=n.n(a);o.a},7174:function(t,e,n){},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.bfd7aa40.js.map